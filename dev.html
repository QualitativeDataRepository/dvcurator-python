
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Developers overview &#8212; dvcurator 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to dvcurator’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="developers-overview">
<h1>Developers overview<a class="headerlink" href="#developers-overview" title="Permalink to this heading">¶</a></h1>
<section id="running-compiling">
<h2>Running/compiling<a class="headerlink" href="#running-compiling" title="Permalink to this heading">¶</a></h2>
<p>dvcurator is written to be run either as a native python program or compiled with pyinstaller.</p>
<p>To run as an interpreted program, dvcurator is a python package. From within a freshly cloned repo, you can run the program with <cite>python -m dvcurator</cite> or install with <cite>python -m pip install dvcurator</cite></p>
<p>There are two spec files, <cite>win.spec</cite> and <cite>mac.spec</cite> to create native Windows or Mac applications with pyinstaller, e.g. <cite>pyinstaller mac.spec</cite>. NOTE: you need to be on the platform in question to compile a native executable!</p>
</section>
<section id="program-organization">
<h2>Program organization<a class="headerlink" href="#program-organization" title="Permalink to this heading">¶</a></h2>
<p>dvcurator is organized with <cite>gui.py</cite> as the top-level file, which calls on functions from the other <cite>.py</cite> files.</p>
<p><cite>gui.py</cite> sets up the Tkinter GUI, collects input variables, and calls external functions. No actual processing should be done in this file, with the exception of minimal error handling. All practical processing is contained in the other <cite>.py</cite> files.</p>
<p><cite>hosts.py</cite> sets a few key variables that end-users will probably not need to adjust themselves. This includes the hostname for the dataverse instance, and the Github repository to post to. These variables only really need to be adjusted for debugging, and so are essentially hard-coded into the compiled .exe/.app files.</p>
<p><cite>fs.py</cite> handles general client-side filesystem operations on the dropbox folder, such as creating a new folder for a processing step.</p>
<p><cite>rename.py</cite> generates names of files and folders from Dataverse metadata. This is for the “Basic rename” function in the edit menu</p>
<p><cite>pdf.py</cite> contains all PDF related operations, namely generating and adding metadata. This is for the “PDF metadata” function in the edit menu</p>
<p><cite>readme.py</cite> contains the functions that generate the README.txt file for a project from dataverse metadata.</p>
<p><cite>convert.py</cite> is a wrapper the docx2pdf library.</p>
<p><cite>github.py</cite> has functions to handle all github API calls. <cite>github_projectsv2.py</cite> replicates these calls for the new ProjectsV2 api.</p>
<p><cite>version.py</cite> is set to git-development by default, which gets overwritten when one compiles a pyinstaller binary. This is used for checking whether or not dvcurator is up to date</p>
</section>
<section id="compilation-process">
<h2>Compilation process<a class="headerlink" href="#compilation-process" title="Permalink to this heading">¶</a></h2>
<p>This program is meant to be run as a compiled .exe or .app file, and run natively. These binaries are created with github actions.</p>
<p>The compilation process is not triggered by regular pushes. Any time a new <strong>tag</strong> is pushed, Github will compile a new executable. These executables are uploaded as draft <strong>releases</strong>, not immediately available. To make a new release publicly available, publish the draft release.</p>
<p>To summarize, the following steps compile a new native executable and make it available:</p>
<ul class="simple">
<li><p>Push a new tag</p></li>
<li><p>Wait for the compilation process to finish (check github actions)</p></li>
<li><p>Test the new draft executable (if you want) under releases</p></li>
<li><p>Publish the draft release</p></li>
</ul>
<p>dvcurator checks for new <em>tags</em> (because of API limitations) every time it is launched to alert users when there is a new version available.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">dvcurator</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Developers overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#running-compiling">Running/compiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#program-organization">Program organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compilation-process">Compilation process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/index.html">API Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to dvcurator’s documentation!</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, QDR.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.1.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/dev.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>